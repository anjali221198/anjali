<!--<p>md-registration works!</p>-->
<app-header></app-header>
<!--{{myData|json}}-->

<h1>Model Driven Form</h1>
<hr style='background:blue'>
<div class='container'>
  <!--<form #userForm='ngForm' (ngSubmit)='submitData(userForm.value)'>-->
  <!--<form [formGroup] ="userForm" (ngSubmit)='submitData()'>-->
  <form [formGroup]="userForm" (ngSubmit)='submitData()'>
    <div class='form-group'>
      <label>Name:</label>
      <input [class.invalid]="userForm.get('name').invalid && userForm.get('name').touched" formControlName='name' class='form-control'>
      <div *ngIf="userForm.get('name').errors?.required" class='text text-danger'>
        Name is required
      </div>
      <div *ngIf="userForm.get('name').errors?.pattern" class='text text-danger'>
        Name should be valid and Name should be 5 to 15 characters
      </div>
    </div>
    <label>Gender</label>
    <div class="custom-control custom-radio">
      <input id="male" type="radio" class="custom-control-input" value="male" name="gender" ngModel>
      <label class="custom-control-label" for="male">Male</label>
    </div>

    <div class="custom-control custom-radio">
      <input id="female" type="radio" class="custom-control-input" value="female" name="gender" ngModel>
      <label class="custom-control-label" for="female">Female</label>
    </div>
    <div class='form-group'>
      <label>Email:</label>
      <input [class.invalid]="userForm.get('email').invalid && userForm.get('email').touched" formControlName='email' class='form-control'>
      <div *ngIf="userForm.get('email').errors?.required" class='text text-danger'>
        Email is required
      </div>
      <div *ngIf="userForm.get('email').errors?.pattern" class='text text-danger'>
        Enter valid email like abc@gmail.com
      </div>
    </div>




    <div formGroupName="address">
      <div class='form-group'>
        <label>City:</label>
        <input [class.invalid]="userForm.get('address.city').invalid && userForm.get('address.city').touched" formControlName='city' class='form-control'>
        <div *ngIf="userForm.get('address.city').errors?.required" class='text text-danger'>
          City is required
        </div>
        <div *ngIf="userForm.get('address.city').errors?.pattern" class='text text-danger'>
          Only Characters are allowed
        </div>
      </div>




      <div class='form-group'>
        <label>State:</label>
        <input [class.invalid]="userForm.get('address.state').invalid && userForm.get('address.state').touched" formControlName='state' class='form-control'>
        <div *ngIf="userForm.get('address.state').errors?.required" class='text text-danger'>State is required </div>
        <div *ngIf="userForm.get('address.state').errors?.pattern" class='text text-danger'>Only Characters are allowed </div>
      </div>




      <div class='form-group'>
        <label>Postal Code:</label>
        <input [class.invalid]="userForm.get('address.postalCode').invalid && userForm.get('address.postalCode').touched" formControlName='postalCode' class='form-control'>
        <div *ngIf="userForm.get('address.postalCode').errors?.required" class='text text-danger'>
          PostalCode is required
        </div>
        <div *ngIf="userForm.get('address.postalCode').errors?.pattern" class='text text-danger'>
          Enter valid code
        </div>
      </div>
    </div>
    <br>
    <button [disabled]='!userForm.valid' type='submit' class='btn btn-success'>
      Submit
    </button>
  </form>
  <h2>Model Driven Form Data</h2>
  <hr />
  <table>
    <tr>
      <th>Name</th>
      <th>Email</th>
      <!--<th>Gender</th>-->
      <th>City</th>
      <th>State</th>
      <th>Postal code</th>
  <!--<th>Product Image</th>-->
  </tr>
    <tr *ngFor='let product of myData'>
      <td>
        {{product.name}}
      </td>
      <!--<td>
        {{product.gender}}
      </td>-->
      <td>
        {{product.email}}
      </td>
      <td>
        {{product.address.city}}
      </td>
      <td>
        {{product.address.state}}
      </td>
      <td>
        {{product.address.postalCode}}
      </td>
      <!--<td>
        <img [src]='product.prodImage' />
      </td>-->
    </tr>
  </table>

</div>
<app-footer></app-footer>

